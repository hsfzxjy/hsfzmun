{"version":3,"sources":["common.js"],"names":["throttle","debounce","wait","randomString","func","options","context","args","result","timeout","previous","later","leading","Date","now","apply","remaining","arguments","clearTimeout","trailing","setTimeout","immediate","timestamp","last","callNow","condition","duration","deferred","$","Deferred","loop","resolve","Loading","$el","startAction","stopAction","_$el","_startAction","_stopAction","_timeout","_loading","prototype","start","bind","prop","stop","fn","loading","arg","isPlainObject","noop","obj","data","Math","random","toString","substring","Array","remove","what","a","L","length","ax","indexOf","splice","Storage","setObj","key","setItem","JSON","stringify","getObj","parse","getItem","icons","name","split","map","removeClass","join","addClass","toggleIcon","icon","hasClass"],"mappings":"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","file":"../../util/common.js","sourcesContent":["export function throttle (func, wait, options) {\n    var context, args, result;\n    var timeout = null;\n    var previous = 0;\n    if (!options) options = {};\n    var later = function() {\n        previous = options.leading === false ? 0 : Date.now();\n        timeout = null;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n    };\n    return function() {\n        var now = Date.now();\n        if (!previous && options.leading === false) previous = now;\n        var remaining = wait - (now - previous);\n        context = this;\n        args = arguments;\n        if (remaining <= 0 || remaining > wait) {\n        if (timeout) {\n            clearTimeout(timeout);\n            timeout = null;\n        }\n        previous = now;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n        } else if (!timeout && options.trailing !== false) {\n        timeout = setTimeout(later, remaining);\n        }\n        return result;\n    };\n}\n\nexport function debounce (func, wait, immediate) {\n    var timeout, args, context, timestamp, result;\n\n    var later = function() {\n        var last = Date.now() - timestamp;\n\n        if (last < wait && last >= 0) {\n        timeout = setTimeout(later, wait - last);\n        } else {\n        timeout = null;\n        if (!immediate) {\n            result = func.apply(context, args);\n            if (!timeout) context = args = null;\n        }\n        }\n    };\n\n    return function() {\n        context = this;\n        args = arguments;\n        timestamp = Date.now();\n        var callNow = immediate && !timeout;\n        if (!timeout) timeout = setTimeout(later, wait);\n        if (callNow) {\n        result = func.apply(context, args);\n        context = args = null;\n        }\n\n        return result;\n    };\n}\n\nimport 'jquery'\n\nexport function wait (condition, duration = 200) {\n    let deferred = $.Deferred()\n\n    function loop () {\n        setTimeout(() => condition() ? deferred.resolve() : loop(), duration)\n    }\n\n    loop()\n    return deferred\n}\n\nfunction Loading ($el, startAction, stopAction, timeout) {\n    this._$el = $el\n    this._startAction = startAction\n    this._stopAction = stopAction\n    this._timeout = timeout\n\n    this._loading = false\n}\n\nLoading.prototype = {\n\n    start () {\n        if (this._loading) return\n        this._startAction.bind(this._$el)()\n        this._$el.prop('disabled', true)\n        this._loading = true\n\n        setTimeout(() => this.stop(), this._timeout)\n    },\n\n    stop () {\n        if (!this._loading) return\n\n        this._stopAction.bind(this._$el)()\n        this._$el.prop('disabled', false)\n        this._loading = false\n    }\n}\n\n$.fn.loading = function (arg) {\n\n    if ($.isPlainObject(arg)) { // Configuration\n        let { start = $.noop, stop = $.noop, timeout = 5000 } = arg\n        let obj = new Loading(this, start, stop, timeout)\n        this.data('__loading', obj)\n    } else { // Actions\n        let obj = this.data('__loading')\n\n        switch (arg) {\n            case 'start':\n                obj.start()\n                break\n            case 'stop':\n                obj.stop()\n                break\n        }\n    }\n\n    return this\n}\n\nexport function randomString () {\n    return Math.random().toString(36).substring(7) + Date.now()\n}\n\n// Array polyfills\n\nArray.prototype.remove = function () {\n    let what, a = arguments, L = a.length, ax\n    while (L && this.length) {\n        what = a[--L]\n        while ((ax = this.indexOf(what)) !== -1) {\n            this.splice(ax, 1)\n        }\n    }\n    return this\n}\n\n// LocalStorage Polifills\n\nStorage.prototype.setObj = function (key, obj) {\n    return this.setItem(key, JSON.stringify(obj))\n}\n\nStorage.prototype.getObj = function (key) {\n    return JSON.parse(this.getItem(key))\n}\n\n// Button Icons Toggler\n\n$.fn.icons = function (name) {\n    let icons = this.data('icons').split(' ').map(name => `fa-${name}`)\n    this.removeClass(icons.join(' '))\n        .addClass(`fa-${name}`)\n}\n\n$.fn.toggleIcon = function () {\n    let icons = this.data('icons').split(' ').map(name => `fa-${name}`)\n    let icon = icons[(this.hasClass(icons[0])) ? 1 : 0]\n    this.removeClass(icons.join(' ')).addClass(icon)\n}\n"]}